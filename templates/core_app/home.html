{% extends "base.html" %}
{% load static %}

{% block title %}
  {{ clinic.clinic_name|default:"Pain, Arthritis, Autoimmune & Rheumatology Clinic" }}
  {% if clinic.clinic_tagline %} | {{ clinic.clinic_tagline }}{% endif %}
{% endblock %}

{% block content %}

<!-- ===================== HERO ===================== -->
<section class="relative overflow-hidden bg-gradient-to-br from-blue-50 via-white to-slate-50" aria-labelledby="hero-heading">

  <!-- soft accents -->
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-200/30 blur-3xl"></div>
    <div class="absolute -bottom-28 -right-24 h-80 w-80 rounded-full bg-slate-200/40 blur-3xl"></div>
  </div>

  <div class="relative max-w-7xl mx-auto px-4 pt-24 pb-16 sm:pt-28 sm:pb-20 lg:pt-32 lg:pb-24 grid gap-10 lg:grid-cols-2 items-center">

    <!-- Copy -->
    <div class="max-w-xl">

      <div class="flex flex-wrap items-center gap-2">
        <span class="inline-flex items-center gap-2 rounded-full bg-blue-100 px-4 py-1.5 text-sm font-semibold text-blue-700 ring-1 ring-blue-200">
          Rheumatology & Autoimmune Expertise
        </span>
        <span class="inline-flex items-center gap-2 rounded-full bg-white px-4 py-1.5 text-sm font-semibold text-slate-700 ring-1 ring-slate-200">
          No referral needed
        </span>
      </div>

      <h1 id="hero-heading"
          class="mt-6 text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight leading-[1.05] text-slate-900">
        {{ clinic.hero_title|default:"Pain, Arthritis & Autoimmune Care" }}
      </h1>

      <p class="mt-6 text-lg sm:text-xl text-slate-600 leading-relaxed">
        {{ clinic.hero_subtitle|default:"Personalized, evidence-based treatment for arthritis, gout, lupus, autoimmune conditions, inflammatory back pain, joint stiffness, and chronic pain — with compassionate follow-up and clear care plans." }}
      </p>

      <!-- CTAs -->
      <div class="mt-9 flex flex-wrap gap-4">
        <a href="{{ clinic.hero_cta_link|default:'/appointments/book/' }}"
           class="inline-flex items-center justify-center rounded-full bg-blue-600 px-8 py-4 text-base font-semibold text-white
                  shadow-lg shadow-blue-600/20 transition hover:bg-blue-700 hover:shadow-xl
                  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
          {{ clinic.hero_cta_text|default:"Book an Appointment" }}
        </a>

        <a href="#services"
           class="inline-flex items-center justify-center rounded-full border border-slate-300 bg-white px-8 py-4 text-base font-semibold text-slate-700
                  hover:bg-slate-100 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
          Explore Treatments
        </a>
      </div>

      <!-- Trust mini-cards -->
      <div class="mt-10 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm text-slate-700">
        <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-slate-100">
          <span class="h-2.5 w-2.5 rounded-full bg-blue-600"></span>
          Specialist-led care
        </div>
        <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-slate-100">
          <span class="h-2.5 w-2.5 rounded-full bg-blue-600"></span>
          Evidence-based diagnosis
        </div>
        <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-slate-100">
          <span class="h-2.5 w-2.5 rounded-full bg-blue-600"></span>
          Clear next steps
        </div>
      </div>

      <!-- Doctor highlight -->
      {% if doctor %}
      <div class="mt-8 rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-100">
        <div class="flex items-start gap-4">
          {% if doctor.profile_photo %}
            <img src="{{ doctor.profile_photo.url }}"
                 alt="Photo of {{ doctor.full_name }}"
                 loading="lazy"
                 class="h-14 w-14 rounded-2xl object-cover ring-1 ring-slate-200">
          {% else %}
            <div class="h-14 w-14 rounded-2xl bg-blue-100 ring-1 ring-blue-200"></div>
          {% endif %}

          <div class="min-w-0">
            <p class="text-sm font-semibold text-slate-900">
              {{ doctor.full_name }}
              <span class="text-slate-500 font-normal">• Head Doctor & Owner</span>
            </p>
            <p class="mt-1 text-sm text-slate-600">
              {{ doctor.specialization|default:"Rheumatology" }}
              {% if doctor.years_of_experience %} • {{ doctor.years_of_experience }}+ years{% endif %}
            </p>
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Conditions -->
      <div class="mt-8 rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-100">
        <div class="flex items-center justify-between gap-4">
          <p class="text-sm font-semibold text-slate-900">Conditions we treat</p>
          <a href="#services" class="text-sm font-semibold text-blue-700 hover:underline">See treatments</a>
        </div>

        <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-slate-700">
          <div class="flex items-start gap-3"><span class="mt-2 h-2 w-2 rounded-full bg-blue-600"></span><span><span class="font-semibold">Arthritis:</span> RA & Osteoarthritis</span></div>
          <div class="flex items-start gap-3"><span class="mt-2 h-2 w-2 rounded-full bg-blue-600"></span><span><span class="font-semibold">Gout</span> & crystal arthritis</span></div>
          <div class="flex items-start gap-3"><span class="mt-2 h-2 w-2 rounded-full bg-blue-600"></span><span><span class="font-semibold">Lupus</span> & autoimmune diseases</span></div>
          <div class="flex items-start gap-3"><span class="mt-2 h-2 w-2 rounded-full bg-blue-600"></span><span><span class="font-semibold">Back pain:</span> inflammatory spine pain</span></div>
          <div class="flex items-start gap-3"><span class="mt-2 h-2 w-2 rounded-full bg-blue-600"></span><span><span class="font-semibold">Joint pain</span> & stiffness</span></div>
          <div class="flex items-start gap-3"><span class="mt-2 h-2 w-2 rounded-full bg-blue-600"></span><span><span class="font-semibold">Chronic pain</span> management</span></div>
        </div>
      </div>

      <!-- 3-step path (shorter, premium) -->
      <div class="mt-8 grid gap-5 sm:grid-cols-3">
        <div class="rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-100">
          <p class="text-xs font-semibold uppercase tracking-wide text-blue-700">Step 1</p>
          <h3 class="mt-2 text-lg font-bold text-slate-900">Diagnosis</h3>
          <p class="mt-3 text-sm text-slate-600 leading-relaxed">We identify the real cause using targeted clinical assessment.</p>
        </div>
        <div class="rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-100">
          <p class="text-xs font-semibold uppercase tracking-wide text-blue-700">Step 2</p>
          <h3 class="mt-2 text-lg font-bold text-slate-900">Treatment</h3>
          <p class="mt-3 text-sm text-slate-600 leading-relaxed">A tailored plan combining medication, lifestyle, and pain strategies.</p>
        </div>
        <div class="rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-100">
          <p class="text-xs font-semibold uppercase tracking-wide text-blue-700">Step 3</p>
          <h3 class="mt-2 text-lg font-bold text-slate-900">Follow-up</h3>
          <p class="mt-3 text-sm text-slate-600 leading-relaxed">We track progress, adjust safely, and support flare-ups.</p>
        </div>
      </div>

    </div>

    <!-- HERO IMAGE (mobile + desktop, responsive WebP) -->
    <div class="relative">
      <div class="absolute -inset-6 rounded-3xl bg-gradient-to-br from-blue-100/70 to-white blur-2xl"></div>

      <img
        src="{% static 'images/hero/clinic-hero-1600.webp' %}"
        srcset="
          {% static 'images/cards/clinic-hero-600.webp' %} 600w,
          {% static 'images/sections/clinic-hero-1200.webp' %} 1200w,
          {% static 'images/hero/clinic-hero-1600.webp' %} 1600w
        "
        sizes="(max-width: 1024px) 100vw, 560px"
        alt="Clinic consultation for pain, arthritis and autoimmune care"
        loading="eager"
        width="1600"
        height="1067"
        class="relative w-full rounded-3xl shadow-2xl object-cover ring-1 ring-slate-200"
      />

      <div class="mt-4 flex flex-wrap items-center gap-2 text-sm text-slate-600">
        <span class="inline-flex items-center rounded-full bg-white px-3 py-1 ring-1 ring-slate-200">Compassionate care</span>
        <span class="inline-flex items-center rounded-full bg-white px-3 py-1 ring-1 ring-slate-200">Clear diagnosis</span>
        <span class="inline-flex items-center rounded-full bg-white px-3 py-1 ring-1 ring-slate-200">Long-term control</span>
      </div>
    </div>

  </div>
</section>

<!-- Mobile sticky CTA (conversion booster) -->
<div class="fixed inset-x-0 bottom-0 z-[65] bg-white/90 backdrop-blur border-t border-slate-200 p-3 sm:hidden">
  <div class="max-w-7xl mx-auto px-2 flex items-center gap-3">
    <a href="{% url 'appointments:book' %}"
       class="flex-1 inline-flex items-center justify-center rounded-full bg-blue-600 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-600/20">
      Book Appointment
    </a>
    {% if clinic.contact_phone %}
    <a href="tel:{{ clinic.contact_phone }}"
       class="inline-flex items-center justify-center rounded-full border border-slate-300 bg-white px-5 py-3 text-sm font-semibold text-slate-700">
      Call
    </a>
    {% endif %}
  </div>
</div>

<!-- ===================== SERVICES ===================== -->
{% include "core_app/components/services.html" %}

<!-- ===================== PUBLICATIONS ===================== -->
<section id="publications" class="bg-white py-24 sm:py-28" aria-labelledby="publications-heading">
  <div class="max-w-7xl mx-auto px-4">

    <header class="max-w-3xl mx-auto text-center">
      <span class="inline-flex items-center gap-2 rounded-full bg-blue-50 px-4 py-1.5 text-sm font-semibold text-blue-700 ring-1 ring-blue-100">
        Research & Scholarship
      </span>
      <h2 id="publications-heading" class="mt-5 text-3xl sm:text-4xl lg:text-5xl font-extrabold tracking-tight text-slate-900">
        Publications & Rheumatology Insights
      </h2>
      <p class="mt-6 text-lg text-slate-600 leading-relaxed">
        Peer-reviewed research and clinical contributions supporting better outcomes in arthritis, autoimmune disease, and pain care.
      </p>
    </header>

    <div class="mt-14 sm:mt-16 grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      {% for pub in publications %}
      <article class="group relative flex flex-col rounded-3xl bg-white p-7 shadow-sm ring-1 ring-slate-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:ring-blue-100 focus-within:ring-2 focus-within:ring-blue-500">
        <h3 class="text-lg font-bold leading-snug text-slate-900">{{ pub.title }}</h3>
        <p class="mt-4 text-sm text-slate-600 leading-relaxed line-clamp-4">
          {{ pub.abstract|default:"Explore clinical research and insights relevant to arthritis, autoimmune disease, rheumatology, and pain management." }}
        </p>
        <a href="{{ pub.get_absolute_url }}" class="mt-auto pt-6 inline-flex items-center gap-2 text-sm font-semibold text-blue-700 group-hover:underline">
          Read publication
        </a>
      </article>
      {% empty %}
      <div class="col-span-full">
        <div class="rounded-3xl bg-slate-50 p-10 text-center ring-1 ring-slate-100">
          <p class="text-slate-700 font-semibold">Publications will appear here shortly.</p>
          <p class="mt-2 text-sm text-slate-600">Check back soon for clinical insights and research updates.</p>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="mt-14 sm:mt-16 text-center">
      <a href="{% url 'publications:publication_list' %}"
         class="inline-flex items-center gap-3 rounded-full border border-slate-300 bg-white px-8 py-4 text-base font-semibold text-slate-700 hover:bg-slate-100 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
        View all publications
      </a>
    </div>

  </div>
</section>

<!-- ===================== FINAL CTA ===================== -->
<section class="relative bg-blue-600 py-24 sm:py-28 overflow-hidden" aria-labelledby="final-cta-heading">
  <div class="absolute inset-0 bg-gradient-to-br from-blue-700/40 via-blue-600 to-blue-500"></div>

  <div class="relative max-w-4xl mx-auto px-4 text-center text-white">
    <h2 id="final-cta-heading" class="text-3xl sm:text-4xl lg:text-5xl font-extrabold tracking-tight">
      Move better. Hurt less. Live fully.
    </h2>
    <p class="mt-6 text-blue-100 text-lg leading-relaxed">
      Book a consultation for joint pain, stiffness, inflammatory back pain, arthritis, gout, lupus, and autoimmune conditions — and get a clear, structured treatment plan.
    </p>
    <div class="mt-10">
      <a href="{% url 'appointments:book' %}"
         class="inline-flex items-center gap-3 rounded-full bg-white px-10 py-4 text-blue-700 font-semibold shadow-xl transition hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2">
        Book an Appointment
      </a>
    </div>
  </div>
</section>

{% endblock %}
